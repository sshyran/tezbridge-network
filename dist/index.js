parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"39eF":[function(require,module,exports) {
"use strict";function e(e,...r){let t,n=void 0,s=e;for(;void 0!==(t=r.shift());)if(s instanceof Object&&!(s instanceof Array))n=s[t],s=s[t];else{if(!(s instanceof Array))return;{const e=parseInt(t);if(isNaN(e))return;n=s[e],s=s[e]}}return n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.safeProp=e;
},{}],"Y/Oq":[function(require,module,exports) {
"use strict";function t(t,...e){let n=e.shift(),o=t;for(;void 0!==n;){if(!(n in o)||void 0===o[n])throw`Property: ${n} is not in the object`;o=o[n=e.shift()]}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkProps=t,exports.OpStep=void 0;class e{constructor(t,...e){this.main_fn=t,this.next_nodes=e}run(...t){const e=this.main_fn.apply(this,t);return"boolean"==typeof e?e?this.next_nodes[0]&&this.next_nodes[0].run():this.next_nodes[1]&&this.next_nodes[1].run():e instanceof Promise?e.then(t=>this.next_nodes[0]&&this.next_nodes[0].run(t)).catch(t=>{throw`OpStep error caught: ${t}`}):void 0}}exports.OpStep=e;
},{}],"LVu9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mixed=exports.Posts=exports.Gets=void 0;var t=require("./types"),e=require("./util");class s{static filter_hash_url(t){if(-1===t.indexOf("/"))throw"The input hash_url should be in this format: `xx/xx/xx/xx/xx/xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`";const e="/"===t[0]?1:0,s="/"===t.slice(-1)?-1:t.length;return t.slice(e,s)}constructor(t){this.fetch=t}custom(t){return this.fetch(t)}head(t){return this.fetch(`/chains/main/blocks/head/${t||""}`)}hash(){return this.head("hash")}header(){return this.head("header")}protocol(){return this.header().then(e=>(0,t.safeProp)(e,"protocol"))}predecessor(){return this.header().then(e=>(0,t.safeProp)(e,"predecessor"))}balance(t){return this.fetch(`/chains/main/blocks/head/context/delegates/${t}/balance`)}contract(t){return this.fetch(`/chains/main/blocks/head/context/contracts/${t}`)}contract_bytes(t,e){const r=s.filter_hash_url(t);return this.fetch(`/chains/main/blocks/head/context/raw/bytes/contracts/index/originated/${r}${e||""}`)}storage_bytes(t){return this.contract_bytes(t,"/data/storage")}big_map_bytes(t){return this.contract_bytes(t,"/big_map")}manager_key(e){return this.fetch(`/chains/main/blocks/head/context/contracts/${e}/manager_key`).then(e=>(0,t.safeProp)(e,"manager"))}counter(t){return this.fetch(`/chains/main/blocks/head/context/contracts/${t}/counter`)}}exports.Gets=s;class r{constructor(t){this.submit=t}pack_data(e,s){const r={data:e,type:s,gas:"400000"};return this.submit("/chains/main/blocks/head/helpers/scripts/pack_data",r).then(e=>(0,t.safeProp)(e,"packed"))}forge_operation(t,e){const s={branch:t,contents:e};return this.submit("/chains/main/blocks/head/helpers/forge/operations",s).then(t=>console.log(t))}preapply_operation(t,e,s,r){const a={branch:t,contents:e,protocol:s,signature:r};return this.submit("/chains/main/blocks/head/helpers/preapply/operations",[a]).then(t=>console.log(t))}inject_operation(t){return this.submit("/injection/operation",t).then(t=>console.log(t))}}exports.Posts=r;class a{constructor(t,e){this.fetch=t,this.submit=e}async originate(t){const e=await this.fetch.counter(t.key_hash),s=Object.assign({},{kind:"origination",fee:"400000",gas_limit:"400000",storage_limit:"60000",balance:"0"},{counter:e,managerPubkey:t.key_hash}),r=await this.fetch.head();if("string"!=typeof r)throw`Error type for head result: ${r.toString()}`;await this.submit.forge_operation(r,[s])}}exports.Mixed=a;
},{"./types":"39eF","./util":"Y/Oq"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TezBridgeNetwork=void 0;var e=require("./api");function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class s{constructor(t){if(!t.host)throw"Please set the host parameter";this.host=t.host,this.RPCFn=t.RPCFn||null,this.fetch=new e.Gets((e,t)=>this.get.call(this,e,t)),this.submit=new e.Posts((e,t)=>this.post.call(this,e,t)),this.mixed=new e.Mixed(this.fetch,this.submit)}get(e,t){return(this.RPCFn||s.RPCFn)(this.host+e,t,"GET")}post(e,t){return(this.RPCFn||s.RPCFn)(this.host+e,t,"POST")}}exports.TezBridgeNetwork=s,t(s,"RPCFn",(e,t,s)=>new Promise((r,i)=>{const n=new XMLHttpRequest;n.addEventListener("load",e=>{200===n.status?r(JSON.parse(n.responseText)):i(n.responseText)}),n.addEventListener("error",i),n.addEventListener("abort",i),n.open(s,e),"POST"===s&&n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))}));var r=s;exports.default=r;
},{"./api":"LVu9"}]},{},["Focm"], null)
//# sourceMappingURL=/index.map